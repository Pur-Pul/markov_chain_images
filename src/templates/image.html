<!DOCTYPE HTML>
<html>
    <head>

    </head>
    <body>
        <canvas id="generated_image" width="{{ data.generated_width }}" height="{{ data.generated_height }}" style="border:1px solid #c3c3c3;">
            Your browser does not support the canvas element.
        </canvas>
        <script type="text/javascript">
            function RGBtoHex(rgb) {
                red = rgb[0].toString(16);
                red = red.length == 1 ? "0" + red : red;
            
                green = rgb[1].toString(16);
                green = green.length == 1 ? "0" + green : green;
                
                blue = rgb[2].toString(16);
                blue = blue.length == 1 ? "0" + blue : blue;
                
                hex =  "#" + red + green + blue;
                return hex;
            }

            data = {{ data|tojson }}
            var canvas = document.getElementById("generated_image");
            var ctx = canvas.getContext("2d");
            table = data.generated_table;
            for (i in table) {
                for (j in table[i]) {
                    ctx.fillStyle = RGBtoHex(data.rgb_list [table[i][j]]);
                    ctx.fillRect(j, i, 1, 1);
                }
            }
        </script><br>
        <a href="/">Main page</a>
    </body>
</html>